# üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å GigaChat

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**
GigaChat —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ, –Ω–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ 500:
```
GET http://localhost:3001/api/gigachat/test 500 (Internal Server Error)
```

## üîç **–ü—Ä–∏—á–∏–Ω–∞:**
GigaChatService –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint `/api/gigachat/test`.

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**
–£–±—Ä–∞–ª –∑–∞–ø—Ä–æ—Å –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É endpoint –∏ —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑—É—é fallback —Ä–µ–∂–∏–º.

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `gigaChatService.ts`:

1. **–£–ø—Ä–æ—Å—Ç–∏–ª –º–µ—Ç–æ–¥ `getAccessToken()`:**
```javascript
// –ë—ã–ª–æ: —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –∑–∞–ø—Ä–æ—Å–æ–º –∫ /api/gigachat/test
// –°—Ç–∞–ª–æ: —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç fallback_token
private async getAccessToken(): Promise<string> {
  // –°—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback —Ä–µ–∂–∏–º
  this.accessToken = 'fallback_token';
  return this.accessToken;
}
```

2. **–î–æ–±–∞–≤–∏–ª –ø—Ä–æ–≤–µ—Ä–∫—É –≤ `generateContent()`:**
```javascript
// –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback —Ä–µ–∂–∏–º, —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º fallback –æ—Ç–≤–µ—Ç
if (token === 'fallback_token') {
  return fallback_response;
}
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ 500
- ‚úÖ GigaChat —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ fallback —Ä–µ–∂–∏–º–µ
- ‚úÖ –í—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8081
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å - –Ω–µ—Ç –æ—à–∏–±–æ–∫ 500
3. GigaChat —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ fallback —Ä–µ–∂–∏–º–µ
4. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!** üéâ