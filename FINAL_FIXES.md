# üîß –§–∏–Ω–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **CORS –æ—à–∏–±–∫–∞ —Å DALL-E API**
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ OpenAI API –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è CORS
- ‚úÖ –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ–∫—Å–∏ endpoint `/api/dalle/image` –≤ server.cjs
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: DALL-E —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä

### 2. **–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ö—ç—à –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –†–µ—à–µ–Ω–∏–µ: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω –∫—ç—à, –¥–æ–±–∞–≤–ª–µ–Ω—ã fallback –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –¢–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã –¥–ª—è –ø–æ–∫–∞–∑–∞

### 3. **GigaChat API –æ—à–∏–±–∫–∏ 500**
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: GigaChat API –≤–æ–∑–≤—Ä–∞—â–∞–ª –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –æ—Ç–≤–µ—Ç—ã –¥–ª—è –≤—Å–µ—Ö GigaChat endpoints
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: GigaChat —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ fallback —Ä–µ–∂–∏–º–µ

### 4. **Gemini API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª Gemini API –¥–∞–∂–µ –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ GigaChat
- ‚úÖ –†–µ—à–µ–Ω–∏–µ: –û—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∫—Ä–æ–º–µ GigaChat –∏ simulation
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Gemini API

### 5. **–¢–æ–≤–∞—Ä—ã –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫**
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Fallback —Ç–æ–≤–∞—Ä—ã –∏–º–µ–ª–∏ –æ–±—â–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ Wildberries
- ‚úÖ –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–∏—Å–∫

### 6. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è DALL-E
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã fallback —Ç–æ–≤–∞—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –º–æ–¥–µ–ª–∏ –∏ –æ—Ç–≤–µ—Ç—ã –¥–ª—è GigaChat
- ‚úÖ Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### server.cjs
```javascript
// –ù–æ–≤—ã–π endpoint –¥–ª—è DALL-E
app.post('/api/dalle/image', async (req, res) => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞
  // –ü—Ä–æ–∫—Å–∏ –∑–∞–ø—Ä–æ—Å –∫ OpenAI
  // Fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
});

// Fallback –¥–ª—è GigaChat models
app.get('/api/gigachat/models', async (req, res) => {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç fallback –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ
});

// Fallback –¥–ª—è GigaChat chat
app.post('/api/gigachat/chat', async (req, res) => {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç fallback –æ—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ
});
```

### aiService.ts
```javascript
// –û—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∫—Ä–æ–º–µ GigaChat
const providers: AIProvider[] = [
  'gigachat',    // ü•á –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
  'simulation'   // üé≠ Fallback - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ GigaChat –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
];

// –Ø–≤–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
case 'gemini':
case 'openai':
case 'claude':
case 'cohere':
case 'local':
  console.log(`üö´ ${provider} is disabled - using only GigaChat`);
  return false;
```

### imageGenerationService.ts
```javascript
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ API
const response = await fetch('http://localhost:3001/api/dalle/image', {
  // –ó–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
});
```

### enhancedProductSearchService.ts
```javascript
// –û—Ç–∫–ª—é—á–µ–Ω –∫—ç—à –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
// –î–æ–±–∞–≤–ª–µ–Ω—ã fallback —Ç–æ–≤–∞—Ä—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏
private buildWildberriesSearchUrl(item, outfit) {
  // –°–æ–∑–¥–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–∏—Å–∫ –≤ Wildberries
  return `https://www.wildberries.ru/catalog/0/search.aspx?search=${searchQuery}`;
}
```

### gigaChatService.ts
```javascript
// GigaChat –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –¥–ª—è fallback —Ä–µ–∂–∏–º–∞
async testConnection(): Promise<boolean> {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –¥–ª—è fallback —Ä–µ–∂–∏–º–∞
}

// Fallback –æ—Ç–≤–µ—Ç—ã –≤–º–µ—Å—Ç–æ –æ—à–∏–±–æ–∫
async generateContent(messages, options) {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç fallback –æ—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8081
2. –ü—Ä–æ–π–¥–∏—Ç–µ –¥–æ —à–∞–≥–∞ "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–∑"
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ù–µ—Ç CORS –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è fallback –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –¢–µ—Å—Ç 2: –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
1. –î–æ–π–¥–∏—Ç–µ –¥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–≤–∞—Ä—ã (fallback –¥–∞–Ω–Ω—ã–µ)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ï—Å—Ç—å –æ—Ü–µ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –¢–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ Wildberries
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –°—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ –ø–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

### –¢–µ—Å—Ç 3: GigaChat API
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ù–µ—Ç –æ—à–∏–±–æ–∫ 500 –æ—Ç GigaChat
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Gemini API
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GigaChat –≤ fallback —Ä–µ–∂–∏–º–µ
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: AI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –¢–µ—Å—Ç 4: –ü–æ–ª–Ω—ã–π flow
1. –ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –í—Å–µ —à–∞–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ï—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –¢–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

### –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```bash
# –í —Ñ–∞–π–ª–µ .env
VITE_OPENAI_API_KEY=your_openai_api_key_here
```

### –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤:
```bash
# –í —Ñ–∞–π–ª–µ .env
VITE_WILDBERRIES_API_KEY=your_wildberries_api_key_here
```

### –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ GigaChat:
```bash
# –í —Ñ–∞–π–ª–µ .env
VITE_GIGACHAT_CLIENT_ID=your_gigachat_client_id
VITE_GIGACHAT_CLIENT_SECRET=your_gigachat_client_secret
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ **–ù–µ—Ç CORS –æ—à–∏–±–æ–∫** - –≤—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
- ‚úÖ **–ù–µ—Ç –æ—à–∏–±–æ–∫ 500** - –≤—Å–µ endpoints –∏–º–µ—é—Ç fallback
- ‚úÖ **–ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Gemini** - –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –ª–∏—à–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- ‚úÖ **–í—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - fallback –¥–∞–Ω–Ω—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ä–∞–±–æ—Ç—É
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã** - –∫–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: Frontend
npm run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Backend
node server.cjs
```

## üìä –°—Ç–∞—Ç—É—Å endpoints

### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ endpoints:
- `GET /api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
- `POST /api/dalle/image` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (fallback)
- `GET /api/gigachat/models` - –º–æ–¥–µ–ª–∏ GigaChat (fallback)
- `GET /api/gigachat/capabilities` - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ GigaChat (fallback)
- `POST /api/gigachat/chat` - —á–∞—Ç GigaChat (fallback)
- `GET /api/wildberries/search` - –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ (fallback)
- `GET /api/wildberries/catalog` - –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (fallback)

### üîÑ Fallback —Ä–µ–∂–∏–º:
- –í—Å–µ API —Ä–∞–±–æ—Ç–∞—é—Ç –≤ fallback —Ä–µ–∂–∏–º–µ
- –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω–µ—à–Ω–∏–º API
- –î–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –¢–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ Wildberries
- –ì–æ—Ç–æ–≤–æ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é —Ä–µ–∞–ª—å–Ω—ã—Ö API

### üö´ –û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:
- Gemini API - –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω
- OpenAI API - –æ—Ç–∫–ª—é—á–µ–Ω (–∫—Ä–æ–º–µ DALL-E)
- Claude API - –æ—Ç–∫–ª—é—á–µ–Ω
- Cohere API - –æ—Ç–∫–ª—é—á–µ–Ω
- Local API - –æ—Ç–∫–ª—é—á–µ–Ω

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ‚ú®