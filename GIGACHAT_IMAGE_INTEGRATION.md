# üé® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GigaChat –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìã **–û–±–∑–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ GigaChat API. –¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GigaChat –∫–∞–∫ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞, —Ç–∞–∫ –∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

## üîß **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

### 1. **Server Endpoint** (`server.cjs`)
```javascript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ GigaChat
app.post('/api/gigachat/images', async (req, res) => {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GigaChat API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
});
```

### 2. **Image Generation Service** (`imageGenerationService.ts`)
```javascript
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç GigaChat –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
private currentProvider: 'gigachat' | 'dalle' | ... = 'gigachat';

// –ú–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ GigaChat
private async generateWithGigaChat(request: ImageGenerationRequest) {
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ /api/gigachat/images
  // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
}
```

### 3. **GigaChat Service** (`gigaChatService.ts`)
```javascript
// –ú–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
async generateImage(request: ImageGenerationRequest): Promise<ImageGenerationResponse> {
  // –°–æ–∑–¥–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ GigaChat API
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ fallback
}
```

## üéØ **–ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**

### **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞**
```javascript
// –°–æ–∑–¥–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ approved outfit
const prompt = `–°—Ç–∏–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –∂–µ–Ω—Å–∫–æ–≥–æ –ø–æ–ª–∞ –≤ –æ–±—Ä–∞–∑–µ: ${outfit.description}. 
–û–¥–µ–∂–¥–∞ –≤–∫–ª—é—á–∞–µ—Ç: ${outfit.items.map(item => `${item.name} –≤ —Ü–≤–µ—Ç–∞—Ö ${item.colors.join(', ')}`). 
–¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞: ${outfit.colorPalette.join(', ')}. 
${outfit.styleNotes}`;
```

### **–®–∞–≥ 2: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞**
```javascript
// POST –∑–∞–ø—Ä–æ—Å –∫ /api/gigachat/images
{
  "prompt": "–¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞",
  "style": "realistic",
  "quality": "high", 
  "size": "1024x1024",
  "aspectRatio": "1:1"
}
```

### **–®–∞–≥ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞**
```javascript
// GigaChat API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
{
  "success": true,
  "imageUrl": "https://...",
  "model": "gigachat",
  "usage": { ... }
}
```

## üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π flow**

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**

1. **OutfitApproval** ‚Üí –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑
2. **ImageGenerator** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞–∑–∞
3. **GigaChat API** ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
4. **ProductCatalog** ‚Üí –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞–∑–∞

### **–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è GigaChat:**
```
–°—Ç–∏–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –∂–µ–Ω—Å–∫–æ–≥–æ –ø–æ–ª–∞ –≤ –æ–±—Ä–∞–∑–µ: –õ–µ—Ç–Ω–∏–π casual –æ–±—Ä–∞–∑ –¥–ª—è –∂–µ–Ω—â–∏–Ω—ã —Å —Ñ–∏–≥—É—Ä–æ–π hourglass. 
–û–¥–µ–∂–¥–∞ –≤–∫–ª—é—á–∞–µ—Ç: –ë–ª—É–∑–∞ –∏–∑ —Ö–ª–æ–ø–∫–∞ –≤ —Ü–≤–µ—Ç–∞—Ö –±–µ–ª—ã–π, –≥–æ–ª—É–±–æ–π, –î–∂–∏–Ω—Å—ã —Å–∫–∏–Ω–Ω–∏ –≤ —Ü–≤–µ—Ç–∞—Ö —Å–∏–Ω–∏–π, 
–ë–∞–ª–µ—Ç–∫–∏ –≤ —Ü–≤–µ—Ç–∞—Ö –±–µ–ª—ã–π, –°—É–º–∫–∞ —á–µ—Ä–µ–∑ –ø–ª–µ—á–æ –≤ —Ü–≤–µ—Ç–∞—Ö —á–µ—Ä–Ω—ã–π. 
–¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞: –±–µ–ª—ã–π, –≥–æ–ª—É–±–æ–π, —Å–∏–Ω–∏–π, —á–µ—Ä–Ω—ã–π. 
–û–±—Ä–∞–∑ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è casual —Å–ª—É—á–∞—è –≤ summer —Å–µ–∑–æ–Ω. 
–û–¥–µ–∂–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π, —Å—Ç–∏–ª—å–Ω–æ–π –∏ —Ö–æ—Ä–æ—à–æ —Å–∏–¥–µ—Ç—å –ø–æ —Ñ–∏–≥—É—Ä–µ.
```

## üõ† **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GigaChat:**
```javascript
// –í .env —Ñ–∞–π–ª–µ
VITE_GIGACHAT_CLIENT_ID=your_client_id
VITE_GIGACHAT_CLIENT_SECRET=your_client_secret

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
private checkGigaChatAvailability(): boolean {
  return !!(env.GIGACHAT_CLIENT_ID && env.GIGACHAT_CLIENT_SECRET);
}
```

### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```javascript
// Fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ GigaChat
if (!clientId || !clientSecret) {
  return res.json({
    success: true,
    imageUrl: '/placeholder.svg',
    model: 'gigachat-fallback'
  });
}
```

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- **style**: 'realistic' | 'artistic' | 'fashion' | 'casual'
- **quality**: 'standard' | 'high'
- **size**: '1024x1024' | '1792x1024' | '1024x1792'
- **aspectRatio**: '1:1' | '16:9' | '9:16'

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–¢–µ—Å—Ç endpoint:**
```bash
curl -X POST http://localhost:3001/api/gigachat/images \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "–°—Ç–∏–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –∂–µ–Ω—Å–∫–æ–≥–æ –ø–æ–ª–∞ –≤ –ª–µ—Ç–Ω–µ–º casual –æ–±—Ä–∞–∑–µ",
    "style": "realistic",
    "quality": "high",
    "size": "1024x1024",
    "aspectRatio": "1:1"
  }'
```

### **–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "imageUrl": "/placeholder.svg",
  "model": "gigachat-fallback",
  "usage": {
    "promptTokens": 0,
    "completionTokens": 0,
    "totalTokens": 0
  }
}
```

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

- ‚úÖ **–ï–¥–∏–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä** - GigaChat –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - –Ω–∞ –æ—Å–Ω–æ–≤–µ approved outfit
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** - –≤–∫–ª—é—á–∞—é—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–±—Ä–∞–∑–∞
- ‚úÖ **Fallback —Ä–µ–∂–∏–º** - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- ‚úÖ **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏ —Ä–∞–∑–º–µ—Ä—ã

## üöÄ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ GigaChat credentials** –≤ .env —Ñ–∞–π–ª–µ
2. **–ü—Ä–æ–π–¥–∏—Ç–µ –ø–æ–ª–Ω—ã–π flow** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ** —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**GigaChat —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π!** üéâ